

修订记录

 

| 日期 | 修订版本 | 修改章节 | 修改描述 |
| ---- | -------- | -------- | -------- |
|      |          |          |          |

缩略语清单： 

| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
|        |          |          |
|        |          |          |
|        |          |          |
|        |          |          |

# 

# 1   概述

描述本次被测对象变更内容。

# 2   测试版本说明

描述测试版本信息。

| 版本名称               | 测试起始时间 | 测试结束时间 |
| ---------------------- | ------------ | ------------ |
| OpenHarmony 2.2 beta 1 | 2021.5.21    | 2021.6.10    |

描述本次测试的测试环境（包括环境软硬件版本信息，环境组网配置信息, 测试辅助工具等）。

| 硬件型号        | 硬件配置信息 | 备注                                              |
| --------------- | ------------ | ------------------------------------------------- |
| hispark_pegasus | Hi3861开发板 | docs/zh-cn/device-dev/quick-start/Hi3861开发板.md |
| hispark_aries   | Hi3518开发板 | docs/zh-cn/device-dev/quick-start/Hi3518开发板.md |
| hispark_taurus  | Hi3516开发板 | docs/zh-cn/device-dev/quick-start/Hi3516开发板.md |

 

# 3   版本概要测试结论

ACTS执行用例3210条，全部验证通过，无遗留问题；

继承特性存在2个遗留问题待闭环，详见4.1.1章节；

新需求涉及7个lssue，已经完成验证，详见4.1.2章节；

专项测试，存在2个严重问题待闭环，详见4.3~4.6章节；

# 4   版本详细测试结论

本章节针对总体测试策略计划的测试内容，给出详细的测试结论。

## 4.1   特性测试结论



### 4.1.1   继承特性评价

*继承特性进行评价，用表格形式评价，包括特性列表，验证质量评估。*

分布式数据管理子系统：特性质量良好

| 序号 | 特性名称             | 特性质量评估 | 备注 |
| ---- | -------------------- | ------------ | ---- |
| 1    | 分布式数据管理子系统 | 全部用例通过 |      |

*特性质量评估可选项：特性不稳定，风险高\特性基本可用，遗留少量问题\特性质量良好*

驱动子系统：特性质量良好

| 序号 | 特性名称   | 特性质量评估                       | 备注 |
| ---- | ---------- | ---------------------------------- | ---- |
| 1    | 驱动子系统 | 没有新增需求，level0-1用例测试通过 |      |

全球化子系统：特性质量良好

| 序号 | 特性名称     | 特性质量评估                             | 备注 |
| ---- | ------------ | ---------------------------------------- | ---- |
| 1    | 全球化子系统 | 没有新增需求，用例测试执行通过，功能正常 |      |

公共基础库子系统：特性质量良好

| 序号 | 特性名称 | 特性质量评估                                       | 备注 |
| ---- | -------- | -------------------------------------------------- | ---- |
| 1    | file     | 没有新增需求，level0-1用例测试通过，特性质量良好。 |      |
| 2    | kv store | 没有新增需求，level0-1用例测试通过，特性质量良好。 |      |

媒体子系统：特性质量良好

| 序号 | 特性名称   | 特性质量评估                             | 备注 |
| ---- | ---------- | ---------------------------------------- | ---- |
| 1    | 媒体子系统 | 没有新增需求，测试用例执行通过，功能正常 |      |

用户程序框架子系统：特性质量良好

| 序号 | 特性名称           | 特性质量评估                                       | 备注 |
| ---- | ------------------ | -------------------------------------------------- | ---- |
| 1    | 用户程序框架子系统 | 没有新增需求，level0-1用例测试通过，特性质量良好。 |      |

内核子系统：特性基本可用，遗留少量问题

| 序号 | 特性名称 | 特性质量评估               | 备注                                                         |
| ---- | -------- | -------------------------- | ------------------------------------------------------------ |
| 1    | 文件系统 | 特性基本可用，遗留少量问题 | 压力场景下文件相关胡VnodeAlloc资源耗尽 https://gitee.com/openharmony/kernel_liteos_a/issues/I3TS1Y |
| 2    | 进程管理 | 特性基本可用，遗留少量问题 | 孤儿进程无法回收，压力场景下TCB资源耗尽 https://gitee.com/openharmony/startup_init_lite/issues/I3TXT8 |
| 3    | 内存管理 | 特性质量良好               |                                                              |

AI子系统：特性质量良好

| 序号 | 特性名称  | 特性质量评估 | 备注 |
| ---- | --------- | ------------ | ---- |
| 1    | AI Engine | 特性正常     | N/A  |

安全子系统：特性质量良好

| 序号 | 特性名称             | 特性质量评估 | 备注 |
| ---- | -------------------- | ------------ | ---- |
| 1    | 密钥管理服务         | 特性质量良好 | NA   |
| 2    | 应用权限管理         | 特性质量良好 | NA   |
| 3    | HAP包签名的验签能力  | 特性质量良好 | NA   |
| 4    | 设备互连安全认证能力 | 特性质量良好 | NA   |

泛sensor服务子系统：特性质量良好

| 序号 | 特性名称 | 特性质量评估 | 备注 |
| ---- | -------- | ------------ | ---- |
| 1    | Sensors  | 特性正常     | N/A  |

DFX子系统：特性质量良好

| 序号 | 特性名称 | 特性质量评估 | 备注 |
| ---- | -------- | ------------ | ---- |
| 1    | Hilog    | 特性质量良好 | NA   |

升级子系统：特性质量良好

| 序号 | 特性名称 | 特性质量评估 | 备注 |
| ---- | -------- | ------------ | ---- |
| 1    | 升级     | 特性质量良好 | NA   |

分布式任务调度子系统：特性质量良好

| 序号 | 特性名称             | 特性质量评估                                     | 备注 |
| ---- | -------------------- | ------------------------------------------------ | ---- |
| 1    | 分布式任务调度子系统 | 没有新增特性，level0-1用例测试通过，基本功能可用 |      |

### 4.1.2   新需求评价

以表格的形式汇总新特性测试执行情况及遗留问题情况的评估,给出特性质量评估结论。

| lssue号 | 特性名称                                               | 特性质量评估 | 约束依赖说明                                                 | 备注                                            |
| ------- | ------------------------------------------------------ | ------------ | ------------------------------------------------------------ | ----------------------------------------------- |
| I3NTBC  | 【启动恢复子系统】接口优化                             | 特性质量良好 | 不涉及                                                       | 优化系统属性API，测试用例适配执行通过，功能正常 |
| I3ICH0  | 分布式数据管理子系统                                   | 特性质量良好 | 使用同一的文件系统接口，依赖平台提供的统一的文件系统，无对外接口，特性未打开，需要开发者根据产品自行配置打开编译开关 | 文档问题，开发正在修改                          |
| I3ICGH  | 分布式数据管理子系统                                   | 特性质量良好 | 提供的二进制内容的读取和写入接口，数据的大小和条目的约束依赖平台可承受的文件存储大小，全部为innerkit，特性未打开，需要开发者根据产品自行配置打开编译开关 |                                                 |
| I3ICG4  | 分布式数据管理子系统                                   | 特性质量良好 | 提供原子操作能力，保证数据修改是原子化，无对外接口，特性未打开，需要开发者根据产品自行配置打开编译开关 |                                                 |
| I3ICFO  | 分布式数据管理子系统                                   | 特性质量良好 | 提供数据的单条和批量删除的接口，对于指定路径支持一个数据库实例，全部为innerkit，特性未打开，需要开发者根据产品自行配置打开编译开关 |                                                 |
| I3NSP8  | 【JS UI框架子系统】UIKit组件支持margin/padding         | 特性质量良好 | 不涉及                                                       |                                                 |
| I3NSZH  | 【JS UI框架子系统】圆形/胶囊按钮支持缩放和白色蒙层动效 | 特性质量良好 | 不涉及                                                       |                                                 |
| 无  | 软总线支持自组网 | 特性基本可用,特定场景下风险高 | 1、开发自测：在wlan（网线直连）连接下，自组网功能稳定，重启设备/开关网络典型场景可以成功自组网；  2、在wifi组网下，基本功能可用，但是在开关网络/重启设备典型场景下自组网失败，涉及4个缺陷issue：[I4312A](https://gitee.com/openharmony/communication_dsoftbus/issues/I4312A), [I4311S](https://gitee.com/openharmony/communication_dsoftbus/issues/I4311S) , [I43118](https://gitee.com/openharmony/communication_dsoftbus/issues/I43118), [I43107](https://gitee.com/openharmony/communication_dsoftbus/issues/I43107)                                                      |                                                 |
| 无  | IPC/RPC | 特性质量良好 | 本特性移植富鸿蒙代码，当前开发自测用例全部pass，上层分布式音乐使用RPC特性，无RPC遗留问题                                |                     |

*特性质量评估可选项：特性不稳定，风险高\特性基本可用，遗留少量问题\特性质量良好*

## 4.2   兼容性测试结论

ACTS没有遗留问题

## 4.3   安全专项测试结论

测试结果：

libwap.so 存在已知一般漏洞： CVE-2021-30004，CVSS：5.3；漏洞发布日期：2021-04-02，不符合产品发布要求，需要解决。

https://gitee.com/openharmony/applications_sample_wifi_iot/issues/I3UWXI

要求：无严重的隐私安全问题遗留，版本通过漏洞扫描，未解决的漏洞满足以下要求：

a）无严重及以上公开漏洞；

b）无已公开60天但未修复的一般（CVSS得分4及以上）安全漏洞；

c）不存在已知CVE安全漏洞，业界未解决的已知CVE安全漏洞可例外；

*d）无法修复，且经过社区开发团队综合评估备案允许遗留的漏洞；*

## 4.4   稳定性专项测试结论

*a）执行反复开关机压力测试，运行5000次，无不开机问题；*

| 质量状态 | 该版本整体无法满足性能质量标准

|

| 总体概述 | 轻量系统开关机压测未出现不开机，挂死等问题，质量达标；

|

|                  | 小型系统开关机压测高概率出现KProcess进程挂死，质量不达标。

|

| 测试分类   | 测试评估项         | 质量目标                               | 是否满足 | 测试结果及关键遗留问题/风险            | 备注issue                                                   |
| ---------- | ------------------ | -------------------------------------- | -------- | -------------------------------------- | ----------------------------------------------------------- |
| 开关机压测 | 轻量系统开关机压测 | 不出现不开机、进程挂死、系统挂死等问题 | 满足     | 无                                     | 无                                                          |
| 开关机压测 | 小型系统开关机压测 | 不出现不开机、进程挂死、系统挂死等问题 | 不满足   | 高概率出现KProcess进程挂死，质量不达标 | https://gitee.com/openharmony/kernel_liteos_a/issues/I3SWY2 |

## 4.5   性能专项测试结论

*以表格形式汇总各专项测试执行情况及遗留问题情况的评估，给出专项质量评估结论*

*要求：1、静态KPI通过率100%，2、开关机及动态内存整机达标，子系统无严重问题

| 质量状态 | 该版本整体无法满足性能质量标准

|

| 总体概述 | 轻量系统静态KPI、内存专项满足当前版本要求，质量达标；

|

|                  | 小型系统静态KPI以及内存基线均无法满足当前版本要求，质量不达标。

|

| 测试分类 | 测试评估项       | 质量目标                                   | 是否满足 | 测试结果及关键遗留问题/风险                                  | 备注issue                                                    |
| -------- | ---------------- | ------------------------------------------ | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 基础性能 | 轻量系统静态模型 | 静态KPI通过率100%                          | 满足     | 轻量系统无感配网满足版本质量                                 |                                                              |
| 基础性能 | 小型系统静态模型 | 静态KPI通过率100%                          | 不满足   | 小型系统图库、相机、设置、查看图片、拍照、录像均满足测试要求。播放场景crash无法测试 | https://gitee.com/openharmony/applications_sample_camera/issues/I3V0FW |
| 基础性能 | 轻量系统内存专项 | 开机以及动态内存整机达标，子系统无严重问题 | 满足     | 轻量系统开机内存以及动态内存满足版本质量                     |                                                              |
| 基础性能 | 小型系统内存专项 | 开机以及动态内存整机达标，子系统无严重问题 | 不满足   | 小型系统开机内存满足测试要求。动态内存由于播放场景crash无法测试 | https://gitee.com/openharmony/applications_sample_camera/issues/I3V0FW |

## 4.6   功耗专项测试结论

*以表格形式汇总各专项测试执行情况及遗留问题情况的评估，给出专项质量评估结论*

*要求：无严重问题

| 质量状态 | 该版本整体不满足功耗质量标准

| 总体概述 | 待机功耗、场景功耗部分场景无法满足测试，不满足当前版本要求；

|

| 测试分类 | 测试评估项 | 质量目标     | 是否满足 | 测试结果及关键遗留问题/风险                                 | 备注issue                                                    |
| -------- | ---------- | ------------ | -------- | ----------------------------------------------------------- | ------------------------------------------------------------ |
| 待机功耗 | 待机功耗   | 待机功耗达标 | 满足     | 待机质量满足版本质量要求                                    |                                                              |
| 场景功耗 | 场景功耗   | 场景测试达标 | 不满足   | 相机拍照、预览、录像场景满足测试要求。播放场景crash无法测试 | https://gitee.com/openharmony/applications_sample_camera/issues/I3V0FW |

# 5   问题单统计

NA
